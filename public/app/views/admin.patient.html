<md-card class="card" ng-controller="adminCtrl" data-ng-init="getAllPatients()">
  <md-toolbar class="md-table-toolbar md-default">
    <div class="md-toolbar-tools">
      <h2 class="md-title">Manage Patients</h2>
      <div flex="" class="flex"></div>
      <div class="md-title search-bar">
        <md-input-container md-no-float class="md-block">
          <input ng-model="find" placeholder="search">
        </md-input-container>
      </div> 
      <div ui-sref="nav.addPatient">
        <md-button class="md-fab md-mini md-hue-3">
          <img class="icon icons8-Plus-Math add-img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAvUlEQVRoQ+2XwQqFMBAD3f//6D68ibxDGBooMp6362aSVjvXR575iI5LIac5qSM6UiJgtEpgcduqI2ut9ZxsZmrvqzW+BSgEBExHEmhGK6H0qjFaCTSjlVAyWoCS0QLQPLUSaMdF6z1QImJnTfLXHEVLIZts0ZFNIL1YEZDRZieNvepCajqSgDvuy54M/a9GIYCceySBZrQSSt7ZASWjBaBVTy0wD16iEIyutFBHSmBxWx3B6EoLdaQEFrf9AZUqgDNAFE7oAAAAAElFTkSuQmCC" width="26">
          <md-tooltip>
            Add Patient
          </md-tooltip>
        </md-button>
      </div>
    </div>
    <div ng-if="!patients.length" class="md-toolbar-tools">
      <md-button ui-sref="nav.addPatient">There are no patients yet. Click here to add your first patient!</md-button>
    </div>
    <md-table-container ng-if="patients.length">
      <table md-table md-row-select ng-model="selected">
        <thead md-head md-order="query.order">
          <th md-column>Firstname</th>
          <th md-column>Lastname</th>
          <th md-column>Email</th>
          <th md-column>Age</th>
          <th md-column>Gender</th>
          <th md-column>Address</th>
          <th md-column>Mobile</th>

        </thead>
        <tbody md-body>
          <tr md-row ng-repeat="patient in filtered=(patients | filter: find)">
            <td md-cell>{{patient.firstname}}</td>
            <td md-cell>{{patient.lastname}}</td>
            <td md-cell>{{patient.email}}</td>
            <td md-cell>{{patient.age}}</td>
            <td md-cell>{{patient.gender}}</td>
            <td md-cell>{{patient.address}}</td>
            <td md-cell>{{patient.phoneNumber}}</td>
            <td md-cell layout="row">
              <md-button class="md-icon-button" aria-label="More" ng-click="openPatientDetails(patient._id)">
                <md-icon> more_vert </md-icon>
                <md-tooltip>
                  More
                </md-tooltip>
              </md-button>
              <md-button class="md-icon-button" aria-label="More" ng-click="showConfirm($event, patient._id)">
                <md-icon> delete </md-icon>
                <md-tooltip>
                  Delete
                </md-tooltip>
              </md-button>
            </td>
          </tr>
        </tbody>
      </table>
    </md-table-container>
  </md-toolbar>
</md-card>